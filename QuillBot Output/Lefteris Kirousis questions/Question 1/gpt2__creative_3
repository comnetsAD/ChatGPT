When ties are permitted in the ranking, it is not guaranteed that a perfect matching without substantial instability will always exist. If there are two men and two women, and both sexes have the same preference list, with a tie between the two members of the opposing gender as their first choice and the other member as their final option, then any perfect pairing is very unstable. In this instance, any ideal pairing is very unstable, since both men would rather be with the other woman and both women would rather be with the other guy. Top Trading Cycles algorithm (TTC), on the other hand, is guaranteed to discover a perfect matching with no major instability in the event of ties. For the next step, the algorithm looks for cycles of mismatched couples (m,w) in which both members of the pair would rather be with the other person than with their present partner. Then, the members of each couple in the cycle are paired off with their preferred partner. This method is guaranteed to end in a limited amount of time without experiencing any significant instability. 